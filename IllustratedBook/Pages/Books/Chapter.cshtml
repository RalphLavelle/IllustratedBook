@page "/books/{bookId:int}/{bookSlug}/chapters/{chapterId:int}/{chapterSlug}"
@model IllustratedBook.Pages.Books.ChapterModel

@if (Model.Section != null)
{
    <h1>Chapter @Model.ChapterId: @Model.Section.Title</h1>
    
    <h2>Pages</h2>
    @if (Model.Pages != null && Model.Pages.Any())
    {
        <ul>
            @for (int i = 0; i < Model.Pages.Count; i++)
            {
                <li>
                    <a asp-page="./BookPage" 
                       asp-route-bookId="@Model.BookId" 
                       asp-route-bookSlug="@Model.BookSlug"
                       asp-route-chapterId="@Model.ChapterId" 
                       asp-route-chapterSlug="@Model.ChapterSlug"
                       asp-route-pageId="@(i + 1)">Page @(i + 1)</a>
                </li>
            }
        </ul>
    }
    else
    {
        <p>No pages available for this chapter.</p>
    }
    
    <p><a asp-page="./Details" 
       asp-route-bookId="@Model.BookId" 
       asp-route-bookSlug="@Model.BookSlug">Back to Chapters</a></p>
}
else
{
    <h1>Chapter not found</h1>
} 